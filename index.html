<form id="validated-form" action="/submit-browser-issue" method="POST" enctype="multipart/form-data" novalidate>
  <h2>Segnala un problema</h2>

  <!-- Email con validazione -->
  <label for="email">Email *</label>
  <input type="email" id="email" name="email" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" 
         title="Inserisci un'email valida" placeholder="email@esempio.com">

  <!-- Titolo segnalazione -->
  <label for="title">Titolo segnalazione *</label>
  <input type="text" id="title" name="title" required minlength="3" maxlength="100"
         placeholder="Breve descrizione del problema">

  <!-- Commento -->
  <label for="comment">Dettagli del problema</label>
  <textarea id="comment" name="comment" rows="5" maxlength="500"
            placeholder="Cosa hai fatto? Cosa si aspettava? Cosa Ã¨ successo?"></textarea>

  <!-- Upload immagine con limiti -->
  <label for="screenshot">Screenshot (opzionale - max 5MB)</label>
  <input type="file" id="screenshot" name="screenshot" accept=".png,.jpg,.jpeg"
         onchange="checkFileSize(this)">

  <div id="file-error" style="color: red; display: none;">File troppo grande (massimo 5MB).</div>

  <button type="submit">Invia segnalazione</button>
</form>

<script>
function checkFileSize(input) {
  const maxSize = 5 * 1024 * 1024; // 5MB
  const errorDiv = document.getElementById('file-error');
  if (input.files[0] && input.files[0].size > maxSize) {
    errorDiv.style.display = 'block';
    input.value = ''; // Resetta il campo
  } else {
    errorDiv.style.display = 'none';
  }
}
</script>
